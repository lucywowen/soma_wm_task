<!DOCTYPE html>
<html>
<head>
  <title>Memory Game</title>

  <!-- Load jatos -->
  <script src="jatos.js"></script>

  <!-- Load libraries -->
  <script src="https://static.psyact.org/jspsych-7.3.1/jspsych.js"></script>

  <!-- Initialize jsPsych -->
  <script src="./js/init-jspsych.js"></script>

  <!-- Load jsPsych plug-ins -->
  <script src="./js/plugin-spatial-recall.js"></script>
  <script src="./js/plugin-screen-checker.js"></script>
  <script src="https://static.psyact.org/jspsych-7.3.1/plugins/plugin-instructions.js"></script>
  <script src="https://static.psyact.org/jspsych-7.3.1/plugins/plugin-html-button-response.js"></script>
  <script src="https://static.psyact.org/jspsych-7.3.1/plugins/plugin-html-keyboard-response.js"></script>

  <!-- Load experiment -->
  <script src="./js/spatial-recall_practice1.js" type="text/javascript"></script>
  <script src="./js/spatial-recall.js" type="text/javascript"></script>

  <!-- Load CSS styles -->
  <link href="https://static.psyact.org/jspsych-7.3.1/css/jspsych.css" rel="stylesheet" type="text/css"></link>

</head>
<body></body>
<script>

      /* initialize jsPsych */
      // var jsPsych = init-jspsych({
      // on_trial_start: jatos.addAbortButton,
      // on_finish: () => jatos.endStudy(jsPsych.data.get().json())
    // });

  // Initialize timeline.
  var timeline = [];
  var instructions_01, recall_forwards, instructions_02, recall_backwards;

  timeline = timeline.concat(instructions_01);
  timeline = timeline.concat(practice_timeline);
  // timeline = timeline.concat(practice_end_feedback);
  timeline = timeline.concat(recall_forwards);
  timeline = timeline.concat(instructions_02);
  timeline = timeline.concat(recall_backwards);

  // Execute timeline.
  // jsPsych.run(timeline);

  // var jsPsych = initJsPsych({
  //   show_progress_bar: false,
  //   on_trial_finish: function(data) {
  //     // save data after each trial
  //     let trial_data_save = jsPsych.data.get().last(1).json();
  //     if (navigator.onLine) {
  //     console.log(trial_data_save);
  //   } else {
  //     alert('ERROR: your internet connection has dropped. Please get in touch with us as you may not be able to complete the study.');
  //   }
  //   jatos.appendResultData(trial_data_save); //adds data to server as the trial goes!

  //   }
  // });

  jsPsych.run(timeline);

</script>
</html>
